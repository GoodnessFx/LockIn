{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0},"end":{"line":1,"column":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0},"end":{"line":2,"column":57}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0},"end":{"line":3,"column":56}}],"key":"1XREZLfiB40YsGJEOFyn6rrYKeQ=","exportNames":["*"],"imports":1}},{"name":"./PlatformUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0},"end":{"line":4,"column":64}}],"key":"vk5TSZJTws6vRpll7frKCvmMWgw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.selectAssetSource = selectAssetSource;\n  exports.resolveUri = resolveUri;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _AssetSourceResolver = require(_dependencyMap[2], \"./AssetSourceResolver\");\n  var AssetSourceResolver = _interopDefault(_AssetSourceResolver);\n  var _PlatformUtils = require(_dependencyMap[3], \"./PlatformUtils\");\n  function selectAssetSource(meta) {\n    var scale = AssetSourceResolver.default.pickScale(meta.scales, _reactNative.PixelRatio.get());\n    var index = meta.scales.findIndex(s => s === scale);\n    var hash = meta.fileHashes ? meta.fileHashes[index] ?? meta.fileHashes[0] : meta.hash;\n    var uri = meta.fileUris ? meta.fileUris[index] ?? meta.fileUris[0] : meta.uri;\n    if (uri) {\n      return {\n        uri: resolveUri(uri),\n        hash\n      };\n    }\n    var fileScale = scale === 1 ? '' : `@${scale}x`;\n    var fileExtension = meta.type ? `.${encodeURIComponent(meta.type)}` : '';\n    var suffix = `/${encodeURIComponent(meta.name)}${fileScale}${fileExtension}`;\n    var params = new URLSearchParams({\n      platform: _expoModulesCore.Platform.OS,\n      hash: meta.hash\n    });\n    if (/^https?:\\/\\//.test(meta.httpServerLocation)) {\n      var _uri = meta.httpServerLocation + suffix + '?' + params;\n      return {\n        uri: _uri,\n        hash\n      };\n    }\n    var manifest2 = (0, _PlatformUtils.getManifest2)();\n    var devServerUrl = manifest2?.extra?.expoGo?.developer ? 'http://' + manifest2.extra.expoGo.debuggerHost : null;\n    if (devServerUrl) {\n      var baseUrl = new URL(meta.httpServerLocation + suffix, devServerUrl);\n      baseUrl.searchParams.set('platform', _expoModulesCore.Platform.OS);\n      baseUrl.searchParams.set('hash', meta.hash);\n      return {\n        uri: baseUrl.href,\n        hash\n      };\n    }\n    if (_reactNative.NativeModules['ExponentKernel']) {\n      return {\n        uri: `https://classic-assets.eascdn.net/~assets/${encodeURIComponent(hash)}`,\n        hash\n      };\n    }\n    return {\n      uri: '',\n      hash\n    };\n  }\n  function resolveUri(uri) {\n    return _PlatformUtils.manifestBaseUrl ? new URL(uri, _PlatformUtils.manifestBaseUrl).href : uri;\n  }\n});","lineCount":69,"map":[[12,2,11,0,"exports"],[12,9,11,0],[12,10,11,0,"selectAssetSource"],[12,27,11,0],[12,30,11,0,"selectAssetSource"],[12,47,11,0],[13,2,64,0,"exports"],[13,9,64,0],[13,10,64,0,"resolveUri"],[13,20,64,0],[13,23,64,0,"resolveUri"],[13,33,64,0],[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_reactNative"],[15,18,2,0],[15,21,2,0,"require"],[15,28,2,0],[15,29,2,0,"_dependencyMap"],[15,43,2,0],[16,2,3,0],[16,6,3,0,"_AssetSourceResolver"],[16,26,3,0],[16,29,3,0,"require"],[16,36,3,0],[16,37,3,0,"_dependencyMap"],[16,51,3,0],[17,2,3,0],[17,6,3,0,"AssetSourceResolver"],[17,25,3,0],[17,28,3,0,"_interopDefault"],[17,43,3,0],[17,44,3,0,"_AssetSourceResolver"],[17,64,3,0],[18,2,4,0],[18,6,4,0,"_PlatformUtils"],[18,20,4,0],[18,23,4,0,"require"],[18,30,4,0],[18,31,4,0,"_dependencyMap"],[18,45,4,0],[19,2,11,7],[19,11,11,16,"selectAssetSource"],[19,28,11,33,"selectAssetSource"],[19,29,11,34,"meta"],[19,33,11,38],[19,35,11,40],[20,4,14,4],[20,8,14,10,"scale"],[20,13,14,15],[20,16,14,18,"AssetSourceResolver"],[20,35,14,37],[20,36,14,37,"default"],[20,43,14,37],[20,44,14,38,"pickScale"],[20,53,14,47],[20,54,14,48,"meta"],[20,58,14,52],[20,59,14,53,"scales"],[20,65,14,59],[20,67,14,61,"PixelRatio"],[20,79,14,71],[20,80,14,71,"PixelRatio"],[20,90,14,71],[20,91,14,72,"get"],[20,94,14,75],[20,95,14,76],[20,96,14,77],[20,97,14,78],[21,4,15,4],[21,8,15,10,"index"],[21,13,15,15],[21,16,15,18,"meta"],[21,20,15,22],[21,21,15,23,"scales"],[21,27,15,29],[21,28,15,30,"findIndex"],[21,37,15,39],[21,38,15,41,"s"],[21,39,15,42],[21,43,15,47,"s"],[21,44,15,48],[21,49,15,53,"scale"],[21,54,15,58],[21,55,15,59],[22,4,16,4],[22,8,16,10,"hash"],[22,12,16,14],[22,15,16,17,"meta"],[22,19,16,21],[22,20,16,22,"fileHashes"],[22,30,16,32],[22,33,16,36,"meta"],[22,37,16,40],[22,38,16,41,"fileHashes"],[22,48,16,51],[22,49,16,52,"index"],[22,54,16,57],[22,55,16,58],[22,59,16,62,"meta"],[22,63,16,66],[22,64,16,67,"fileHashes"],[22,74,16,77],[22,75,16,78],[22,76,16,79],[22,77,16,80],[22,80,16,84,"meta"],[22,84,16,88],[22,85,16,89,"hash"],[22,89,16,93],[23,4,18,4],[23,8,18,10,"uri"],[23,11,18,13],[23,14,18,16,"meta"],[23,18,18,20],[23,19,18,21,"fileUris"],[23,27,18,29],[23,30,18,33,"meta"],[23,34,18,37],[23,35,18,38,"fileUris"],[23,43,18,46],[23,44,18,47,"index"],[23,49,18,52],[23,50,18,53],[23,54,18,57,"meta"],[23,58,18,61],[23,59,18,62,"fileUris"],[23,67,18,70],[23,68,18,71],[23,69,18,72],[23,70,18,73],[23,73,18,77,"meta"],[23,77,18,81],[23,78,18,82,"uri"],[23,81,18,85],[24,4,19,4],[24,8,19,8,"uri"],[24,11,19,11],[24,13,19,13],[25,6,20,8],[25,13,20,15],[26,8,20,17,"uri"],[26,11,20,20],[26,13,20,22,"resolveUri"],[26,23,20,32],[26,24,20,33,"uri"],[26,27,20,36],[26,28,20,37],[27,8,20,39,"hash"],[28,6,20,44],[28,7,20,45],[29,4,21,4],[30,4,22,4],[30,8,22,10,"fileScale"],[30,17,22,19],[30,20,22,22,"scale"],[30,25,22,27],[30,30,22,32],[30,31,22,33],[30,34,22,36],[30,36,22,38],[30,39,22,41],[30,43,22,45,"scale"],[30,48,22,50],[30,51,22,53],[31,4,23,4],[31,8,23,10,"fileExtension"],[31,21,23,23],[31,24,23,26,"meta"],[31,28,23,30],[31,29,23,31,"type"],[31,33,23,35],[31,36,23,38],[31,40,23,42,"encodeURIComponent"],[31,58,23,60],[31,59,23,61,"meta"],[31,63,23,65],[31,64,23,66,"type"],[31,68,23,70],[31,69,23,71],[31,71,23,73],[31,74,23,76],[31,76,23,78],[32,4,24,4],[32,8,24,10,"suffix"],[32,14,24,16],[32,17,24,19],[32,21,24,23,"encodeURIComponent"],[32,39,24,41],[32,40,24,42,"meta"],[32,44,24,46],[32,45,24,47,"name"],[32,49,24,51],[32,50,24,52],[32,53,24,55,"fileScale"],[32,62,24,64],[32,65,24,67,"fileExtension"],[32,78,24,80],[32,80,24,82],[33,4,25,4],[33,8,25,10,"params"],[33,14,25,16],[33,17,25,19],[33,21,25,23,"URLSearchParams"],[33,36,25,38],[33,37,25,39],[34,6,26,8,"platform"],[34,14,26,16],[34,16,26,18,"Platform"],[34,32,26,26],[34,33,26,26,"Platform"],[34,41,26,26],[34,42,26,27,"OS"],[34,44,26,29],[35,6,27,8,"hash"],[35,10,27,12],[35,12,27,14,"meta"],[35,16,27,18],[35,17,27,19,"hash"],[36,4,28,4],[36,5,28,5],[36,6,28,6],[37,4,31,4],[37,8,31,8],[37,22,31,22],[37,23,31,23,"test"],[37,27,31,27],[37,28,31,28,"meta"],[37,32,31,32],[37,33,31,33,"httpServerLocation"],[37,51,31,51],[37,52,31,52],[37,54,31,54],[38,6,32,8],[38,10,32,14,"uri"],[38,14,32,17],[38,17,32,20,"meta"],[38,21,32,24],[38,22,32,25,"httpServerLocation"],[38,40,32,43],[38,43,32,46,"suffix"],[38,49,32,52],[38,52,32,55],[38,55,32,58],[38,58,32,61,"params"],[38,64,32,67],[39,6,33,8],[39,13,33,15],[40,8,33,17,"uri"],[40,11,33,20],[40,13,33,17,"uri"],[40,17,33,20],[41,8,33,22,"hash"],[42,6,33,27],[42,7,33,28],[43,4,34,4],[44,4,36,4],[44,8,36,10,"manifest2"],[44,17,36,19],[44,20,36,22],[44,24,36,22,"getManifest2"],[44,38,36,34],[44,39,36,34,"getManifest2"],[44,51,36,34],[44,53,36,35],[44,54,36,36],[45,4,37,4],[45,8,37,10,"devServerUrl"],[45,20,37,22],[45,23,37,25,"manifest2"],[45,32,37,34],[45,34,37,36,"extra"],[45,39,37,41],[45,41,37,43,"expoGo"],[45,47,37,49],[45,49,37,51,"developer"],[45,58,37,60],[45,61,38,10],[45,70,38,19],[45,73,38,22,"manifest2"],[45,82,38,31],[45,83,38,32,"extra"],[45,88,38,37],[45,89,38,38,"expoGo"],[45,95,38,44],[45,96,38,45,"debuggerHost"],[45,108,38,57],[45,111,39,10],[45,115,39,14],[46,4,40,4],[46,8,40,8,"devServerUrl"],[46,20,40,20],[46,22,40,22],[47,6,41,8],[47,10,41,14,"baseUrl"],[47,17,41,21],[47,20,41,24],[47,24,41,28,"URL"],[47,27,41,31],[47,28,41,32,"meta"],[47,32,41,36],[47,33,41,37,"httpServerLocation"],[47,51,41,55],[47,54,41,58,"suffix"],[47,60,41,64],[47,62,41,66,"devServerUrl"],[47,74,41,78],[47,75,41,79],[48,6,42,8,"baseUrl"],[48,13,42,15],[48,14,42,16,"searchParams"],[48,26,42,28],[48,27,42,29,"set"],[48,30,42,32],[48,31,42,33],[48,41,42,43],[48,43,42,45,"Platform"],[48,59,42,53],[48,60,42,53,"Platform"],[48,68,42,53],[48,69,42,54,"OS"],[48,71,42,56],[48,72,42,57],[49,6,43,8,"baseUrl"],[49,13,43,15],[49,14,43,16,"searchParams"],[49,26,43,28],[49,27,43,29,"set"],[49,30,43,32],[49,31,43,33],[49,37,43,39],[49,39,43,41,"meta"],[49,43,43,45],[49,44,43,46,"hash"],[49,48,43,50],[49,49,43,51],[50,6,44,8],[50,13,44,15],[51,8,45,12,"uri"],[51,11,45,15],[51,13,45,17,"baseUrl"],[51,20,45,24],[51,21,45,25,"href"],[51,25,45,29],[52,8,46,12,"hash"],[53,6,47,8],[53,7,47,9],[54,4,48,4],[55,4,50,4],[55,8,50,8,"NativeModules"],[55,20,50,21],[55,21,50,21,"NativeModules"],[55,34,50,21],[55,35,50,22],[55,51,50,38],[55,52,50,39],[55,54,50,41],[56,6,51,8],[56,13,51,15],[57,8,51,17,"uri"],[57,11,51,20],[57,13,51,22],[57,58,51,67,"encodeURIComponent"],[57,76,51,85],[57,77,51,86,"hash"],[57,81,51,90],[57,82,51,91],[57,84,51,93],[58,8,51,95,"hash"],[59,6,51,100],[59,7,51,101],[60,4,52,4],[61,4,57,4],[61,11,57,11],[62,6,57,13,"uri"],[62,9,57,16],[62,11,57,18],[62,13,57,20],[63,6,57,22,"hash"],[64,4,57,27],[64,5,57,28],[65,2,58,0],[66,2,64,7],[66,11,64,16,"resolveUri"],[66,21,64,26,"resolveUri"],[66,22,64,27,"uri"],[66,25,64,30],[66,27,64,32],[67,4,66,4],[67,11,66,11,"manifestBaseUrl"],[67,25,66,26],[67,26,66,26,"manifestBaseUrl"],[67,41,66,26],[67,44,66,29],[67,48,66,33,"URL"],[67,51,66,36],[67,52,66,37,"uri"],[67,55,66,40],[67,57,66,42,"manifestBaseUrl"],[67,71,66,57],[67,72,66,57,"manifestBaseUrl"],[67,87,66,57],[67,88,66,58],[67,89,66,59,"href"],[67,93,66,63],[67,96,66,66,"uri"],[67,99,66,69],[68,2,67,0],[69,0,67,1],[69,3]],"functionMap":{"names":["<global>","selectAssetSource","meta.scales.findIndex$argument_0","resolveUri"],"mappings":"AAA;OCU;wCCI,kBD;CD2C;OGM;CHG"},"hasCjsExports":false},"type":"js/module"}]}