{"dependencies":[{"name":"./core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14},"end":{"line":3,"column":31}}],"key":"FXN3sf/EjRB4E2rwdgFcvRpWg7U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Promise = require(_dependencyMap[0], \"./core\");\n  var DEFAULT_WHITELIST = [ReferenceError, TypeError, RangeError];\n  var enabled = false;\n  exports.disable = disable;\n  function disable() {\n    enabled = false;\n    Promise._B = null;\n    Promise._C = null;\n  }\n  exports.enable = enable;\n  function enable(options) {\n    options = options || {};\n    if (enabled) disable();\n    enabled = true;\n    var id = 0;\n    var displayId = 0;\n    var rejections = {};\n    Promise._B = function (promise) {\n      if (promise._y === 2 && rejections[promise._E]) {\n        if (rejections[promise._E].logged) {\n          onHandled(promise._E);\n        } else {\n          clearTimeout(rejections[promise._E].timeout);\n        }\n        delete rejections[promise._E];\n      }\n    };\n    Promise._C = function (promise, err) {\n      if (promise._x === 0) {\n        promise._E = id++;\n        rejections[promise._E] = {\n          displayId: null,\n          error: err,\n          timeout: setTimeout(onUnhandled.bind(null, promise._E), matchWhitelist(err, DEFAULT_WHITELIST) ? 100 : 2000),\n          logged: false\n        };\n      }\n    };\n    function onUnhandled(id) {\n      if (options.allRejections || matchWhitelist(rejections[id].error, options.whitelist || DEFAULT_WHITELIST)) {\n        rejections[id].displayId = displayId++;\n        if (options.onUnhandled) {\n          rejections[id].logged = true;\n          options.onUnhandled(rejections[id].displayId, rejections[id].error);\n        } else {\n          rejections[id].logged = true;\n          logError(rejections[id].displayId, rejections[id].error);\n        }\n      }\n    }\n    function onHandled(id) {\n      if (rejections[id].logged) {\n        if (options.onHandled) {\n          options.onHandled(rejections[id].displayId, rejections[id].error);\n        } else if (!rejections[id].onUnhandled) {\n          console.warn('Promise Rejection Handled (id: ' + rejections[id].displayId + '):');\n          console.warn('  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' + rejections[id].displayId + '.');\n        }\n      }\n    }\n  }\n  function logError(id, error) {\n    console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n    var errStr = (error && (error.stack || error)) + '';\n    errStr.split('\\n').forEach(function (line) {\n      console.warn('  ' + line);\n    });\n  }\n  function matchWhitelist(error, list) {\n    return list.some(function (cls) {\n      return error instanceof cls;\n    });\n  }\n});","lineCount":77,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"Promise"],[4,13,3,11],[4,16,3,14,"require"],[4,23,3,21],[4,24,3,21,"_dependencyMap"],[4,38,3,21],[4,51,3,30],[4,52,3,31],[5,2,5,0],[5,6,5,4,"DEFAULT_WHITELIST"],[5,23,5,21],[5,26,5,24],[5,27,6,2,"ReferenceError"],[5,41,6,16],[5,43,7,2,"TypeError"],[5,52,7,11],[5,54,8,2,"RangeError"],[5,64,8,12],[5,65,9,1],[6,2,11,0],[6,6,11,4,"enabled"],[6,13,11,11],[6,16,11,14],[6,21,11,19],[7,2,12,0,"exports"],[7,9,12,7],[7,10,12,8,"disable"],[7,17,12,15],[7,20,12,18,"disable"],[7,27,12,25],[8,2,13,0],[8,11,13,9,"disable"],[8,18,13,16,"disable"],[8,19,13,16],[8,21,13,19],[9,4,14,2,"enabled"],[9,11,14,9],[9,14,14,12],[9,19,14,17],[10,4,15,2,"Promise"],[10,11,15,9],[10,12,15,10,"_B"],[10,14,15,12],[10,17,15,15],[10,21,15,19],[11,4,16,2,"Promise"],[11,11,16,9],[11,12,16,10,"_C"],[11,14,16,12],[11,17,16,15],[11,21,16,19],[12,2,17,0],[13,2,19,0,"exports"],[13,9,19,7],[13,10,19,8,"enable"],[13,16,19,14],[13,19,19,17,"enable"],[13,25,19,23],[14,2,20,0],[14,11,20,9,"enable"],[14,17,20,15,"enable"],[14,18,20,16,"options"],[14,25,20,23],[14,27,20,25],[15,4,21,2,"options"],[15,11,21,9],[15,14,21,12,"options"],[15,21,21,19],[15,25,21,23],[15,26,21,24],[15,27,21,25],[16,4,22,2],[16,8,22,6,"enabled"],[16,15,22,13],[16,17,22,15,"disable"],[16,24,22,22],[16,25,22,23],[16,26,22,24],[17,4,23,2,"enabled"],[17,11,23,9],[17,14,23,12],[17,18,23,16],[18,4,24,2],[18,8,24,6,"id"],[18,10,24,8],[18,13,24,11],[18,14,24,12],[19,4,25,2],[19,8,25,6,"displayId"],[19,17,25,15],[19,20,25,18],[19,21,25,19],[20,4,26,2],[20,8,26,6,"rejections"],[20,18,26,16],[20,21,26,19],[20,22,26,20],[20,23,26,21],[21,4,27,2,"Promise"],[21,11,27,9],[21,12,27,10,"_B"],[21,14,27,12],[21,17,27,15],[21,27,27,25,"promise"],[21,34,27,32],[21,36,27,34],[22,6,28,4],[22,10,29,6,"promise"],[22,17,29,13],[22,18,29,14,"_y"],[22,20,29,16],[22,25,29,21],[22,26,29,22],[22,30,30,6,"rejections"],[22,40,30,16],[22,41,30,17,"promise"],[22,48,30,24],[22,49,30,25,"_E"],[22,51,30,27],[22,52,30,28],[22,54,31,6],[23,8,32,6],[23,12,32,10,"rejections"],[23,22,32,20],[23,23,32,21,"promise"],[23,30,32,28],[23,31,32,29,"_E"],[23,33,32,31],[23,34,32,32],[23,35,32,33,"logged"],[23,41,32,39],[23,43,32,41],[24,10,33,8,"onHandled"],[24,19,33,17],[24,20,33,18,"promise"],[24,27,33,25],[24,28,33,26,"_E"],[24,30,33,28],[24,31,33,29],[25,8,34,6],[25,9,34,7],[25,15,34,13],[26,10,35,8,"clearTimeout"],[26,22,35,20],[26,23,35,21,"rejections"],[26,33,35,31],[26,34,35,32,"promise"],[26,41,35,39],[26,42,35,40,"_E"],[26,44,35,42],[26,45,35,43],[26,46,35,44,"timeout"],[26,53,35,51],[26,54,35,52],[27,8,36,6],[28,8,37,6],[28,15,37,13,"rejections"],[28,25,37,23],[28,26,37,24,"promise"],[28,33,37,31],[28,34,37,32,"_E"],[28,36,37,34],[28,37,37,35],[29,6,38,4],[30,4,39,2],[30,5,39,3],[31,4,40,2,"Promise"],[31,11,40,9],[31,12,40,10,"_C"],[31,14,40,12],[31,17,40,15],[31,27,40,25,"promise"],[31,34,40,32],[31,36,40,34,"err"],[31,39,40,37],[31,41,40,39],[32,6,41,4],[32,10,41,8,"promise"],[32,17,41,15],[32,18,41,16,"_x"],[32,20,41,18],[32,25,41,23],[32,26,41,24],[32,28,41,26],[33,8,42,6,"promise"],[33,15,42,13],[33,16,42,14,"_E"],[33,18,42,16],[33,21,42,19,"id"],[33,23,42,21],[33,25,42,23],[34,8,43,6,"rejections"],[34,18,43,16],[34,19,43,17,"promise"],[34,26,43,24],[34,27,43,25,"_E"],[34,29,43,27],[34,30,43,28],[34,33,43,31],[35,10,44,8,"displayId"],[35,19,44,17],[35,21,44,19],[35,25,44,23],[36,10,45,8,"error"],[36,15,45,13],[36,17,45,15,"err"],[36,20,45,18],[37,10,46,8,"timeout"],[37,17,46,15],[37,19,46,17,"setTimeout"],[37,29,46,27],[37,30,47,10,"onUnhandled"],[37,41,47,21],[37,42,47,22,"bind"],[37,46,47,26],[37,47,47,27],[37,51,47,31],[37,53,47,33,"promise"],[37,60,47,40],[37,61,47,41,"_E"],[37,63,47,43],[37,64,47,44],[37,66,52,10,"matchWhitelist"],[37,80,52,24],[37,81,52,25,"err"],[37,84,52,28],[37,86,52,30,"DEFAULT_WHITELIST"],[37,103,52,47],[37,104,52,48],[37,107,53,14],[37,110,53,17],[37,113,54,14],[37,117,55,8],[37,118,55,9],[38,10,56,8,"logged"],[38,16,56,14],[38,18,56,16],[39,8,57,6],[39,9,57,7],[40,6,58,4],[41,4,59,2],[41,5,59,3],[42,4,60,2],[42,13,60,11,"onUnhandled"],[42,24,60,22,"onUnhandled"],[42,25,60,23,"id"],[42,27,60,25],[42,29,60,27],[43,6,61,4],[43,10,62,6,"options"],[43,17,62,13],[43,18,62,14,"allRejections"],[43,31,62,27],[43,35,63,6,"matchWhitelist"],[43,49,63,20],[43,50,64,8,"rejections"],[43,60,64,18],[43,61,64,19,"id"],[43,63,64,21],[43,64,64,22],[43,65,64,23,"error"],[43,70,64,28],[43,72,65,8,"options"],[43,79,65,15],[43,80,65,16,"whitelist"],[43,89,65,25],[43,93,65,29,"DEFAULT_WHITELIST"],[43,110,66,6],[43,111,66,7],[43,113,67,6],[44,8,68,6,"rejections"],[44,18,68,16],[44,19,68,17,"id"],[44,21,68,19],[44,22,68,20],[44,23,68,21,"displayId"],[44,32,68,30],[44,35,68,33,"displayId"],[44,44,68,42],[44,46,68,44],[45,8,69,6],[45,12,69,10,"options"],[45,19,69,17],[45,20,69,18,"onUnhandled"],[45,31,69,29],[45,33,69,31],[46,10,70,8,"rejections"],[46,20,70,18],[46,21,70,19,"id"],[46,23,70,21],[46,24,70,22],[46,25,70,23,"logged"],[46,31,70,29],[46,34,70,32],[46,38,70,36],[47,10,71,8,"options"],[47,17,71,15],[47,18,71,16,"onUnhandled"],[47,29,71,27],[47,30,72,10,"rejections"],[47,40,72,20],[47,41,72,21,"id"],[47,43,72,23],[47,44,72,24],[47,45,72,25,"displayId"],[47,54,72,34],[47,56,73,10,"rejections"],[47,66,73,20],[47,67,73,21,"id"],[47,69,73,23],[47,70,73,24],[47,71,73,25,"error"],[47,76,74,8],[47,77,74,9],[48,8,75,6],[48,9,75,7],[48,15,75,13],[49,10,76,8,"rejections"],[49,20,76,18],[49,21,76,19,"id"],[49,23,76,21],[49,24,76,22],[49,25,76,23,"logged"],[49,31,76,29],[49,34,76,32],[49,38,76,36],[50,10,77,8,"logError"],[50,18,77,16],[50,19,78,10,"rejections"],[50,29,78,20],[50,30,78,21,"id"],[50,32,78,23],[50,33,78,24],[50,34,78,25,"displayId"],[50,43,78,34],[50,45,79,10,"rejections"],[50,55,79,20],[50,56,79,21,"id"],[50,58,79,23],[50,59,79,24],[50,60,79,25,"error"],[50,65,80,8],[50,66,80,9],[51,8,81,6],[52,6,82,4],[53,4,83,2],[54,4,84,2],[54,13,84,11,"onHandled"],[54,22,84,20,"onHandled"],[54,23,84,21,"id"],[54,25,84,23],[54,27,84,25],[55,6,85,4],[55,10,85,8,"rejections"],[55,20,85,18],[55,21,85,19,"id"],[55,23,85,21],[55,24,85,22],[55,25,85,23,"logged"],[55,31,85,29],[55,33,85,31],[56,8,86,6],[56,12,86,10,"options"],[56,19,86,17],[56,20,86,18,"onHandled"],[56,29,86,27],[56,31,86,29],[57,10,87,8,"options"],[57,17,87,15],[57,18,87,16,"onHandled"],[57,27,87,25],[57,28,87,26,"rejections"],[57,38,87,36],[57,39,87,37,"id"],[57,41,87,39],[57,42,87,40],[57,43,87,41,"displayId"],[57,52,87,50],[57,54,87,52,"rejections"],[57,64,87,62],[57,65,87,63,"id"],[57,67,87,65],[57,68,87,66],[57,69,87,67,"error"],[57,74,87,72],[57,75,87,73],[58,8,88,6],[58,9,88,7],[58,15,88,13],[58,19,88,17],[58,20,88,18,"rejections"],[58,30,88,28],[58,31,88,29,"id"],[58,33,88,31],[58,34,88,32],[58,35,88,33,"onUnhandled"],[58,46,88,44],[58,48,88,46],[59,10,89,8,"console"],[59,17,89,15],[59,18,89,16,"warn"],[59,22,89,20],[59,23,90,10],[59,56,90,43],[59,59,90,46,"rejections"],[59,69,90,56],[59,70,90,57,"id"],[59,72,90,59],[59,73,90,60],[59,74,90,61,"displayId"],[59,83,90,70],[59,86,90,73],[59,90,91,8],[59,91,91,9],[60,10,92,8,"console"],[60,17,92,15],[60,18,92,16,"warn"],[60,22,92,20],[60,23,93,10],[60,134,93,121],[60,137,94,10,"rejections"],[60,147,94,20],[60,148,94,21,"id"],[60,150,94,23],[60,151,94,24],[60,152,94,25,"displayId"],[60,161,94,34],[60,164,94,37],[60,167,95,8],[60,168,95,9],[61,8,96,6],[62,6,97,4],[63,4,98,2],[64,2,99,0],[65,2,101,0],[65,11,101,9,"logError"],[65,19,101,17,"logError"],[65,20,101,18,"id"],[65,22,101,20],[65,24,101,22,"error"],[65,29,101,27],[65,31,101,29],[66,4,102,2,"console"],[66,11,102,9],[66,12,102,10,"warn"],[66,16,102,14],[66,17,102,15],[66,61,102,59],[66,64,102,62,"id"],[66,66,102,64],[66,69,102,67],[66,73,102,71],[66,74,102,72],[67,4,103,2],[67,8,103,6,"errStr"],[67,14,103,12],[67,17,103,15],[67,18,103,16,"error"],[67,23,103,21],[67,28,103,26,"error"],[67,33,103,31],[67,34,103,32,"stack"],[67,39,103,37],[67,43,103,41,"error"],[67,48,103,46],[67,49,103,47],[67,53,103,51],[67,55,103,53],[68,4,104,2,"errStr"],[68,10,104,8],[68,11,104,9,"split"],[68,16,104,14],[68,17,104,15],[68,21,104,19],[68,22,104,20],[68,23,104,21,"forEach"],[68,30,104,28],[68,31,104,29],[68,41,104,39,"line"],[68,45,104,43],[68,47,104,45],[69,6,105,4,"console"],[69,13,105,11],[69,14,105,12,"warn"],[69,18,105,16],[69,19,105,17],[69,23,105,21],[69,26,105,24,"line"],[69,30,105,28],[69,31,105,29],[70,4,106,2],[70,5,106,3],[70,6,106,4],[71,2,107,0],[72,2,109,0],[72,11,109,9,"matchWhitelist"],[72,25,109,23,"matchWhitelist"],[72,26,109,24,"error"],[72,31,109,29],[72,33,109,31,"list"],[72,37,109,35],[72,39,109,37],[73,4,110,2],[73,11,110,9,"list"],[73,15,110,13],[73,16,110,14,"some"],[73,20,110,18],[73,21,110,19],[73,31,110,29,"cls"],[73,34,110,32],[73,36,110,34],[74,6,111,4],[74,13,111,11,"error"],[74,18,111,16],[74,30,111,28,"cls"],[74,33,111,31],[75,4,112,2],[75,5,112,3],[75,6,112,4],[76,2,113,0],[77,0,113,1],[77,3]],"functionMap":{"names":["<global>","disable","enable","Promise._B","Promise._C","onUnhandled","onHandled","logError","errStr.split.forEach$argument_0","matchWhitelist","list.some$argument_0"],"mappings":"AAA;ACY;CDI;AEG;eCO;GDY;eEC;GFmB;EGC;GHuB;EIC;GJc;CFC;AOE;6BCG;GDE;CPC;ASE;mBCC;GDE"},"hasCjsExports":true},"type":"js/module"}]}