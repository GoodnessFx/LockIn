{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0},"end":{"line":4,"column":73}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0},"end":{"line":5,"column":69}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useOptionsGetters = useOptionsGetters;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContextJs = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContextJs = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContextJs.NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContextJs.NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":87,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,6,0,"exports"],[22,9,6,0],[22,10,6,0,"useOptionsGetters"],[22,27,6,0],[22,30,6,0,"useOptionsGetters"],[22,47,6,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[25,6,4,0,"_NavigationBuilderContextJs"],[25,33,4,0],[25,36,4,0,"require"],[25,43,4,0],[25,44,4,0,"_dependencyMap"],[25,58,4,0],[26,2,5,0],[26,6,5,0,"_NavigationStateContextJs"],[26,31,5,0],[26,34,5,0,"require"],[26,41,5,0],[26,42,5,0,"_dependencyMap"],[26,56,5,0],[27,2,6,7],[27,11,6,16,"useOptionsGetters"],[27,28,6,33,"useOptionsGetters"],[27,29,6,33,"_ref"],[27,33,6,33],[27,35,10,3],[28,4,10,3],[28,8,7,2,"key"],[28,11,7,5],[28,14,7,5,"_ref"],[28,18,7,5],[28,19,7,2,"key"],[28,22,7,5],[29,6,8,2,"options"],[29,13,8,9],[29,16,8,9,"_ref"],[29,20,8,9],[29,21,8,2,"options"],[29,28,8,9],[30,6,9,2,"navigation"],[30,16,9,12],[30,19,9,12,"_ref"],[30,23,9,12],[30,24,9,2,"navigation"],[30,34,9,12],[31,4,11,2],[31,8,11,8,"optionsRef"],[31,18,11,18],[31,21,11,21,"React"],[31,26,11,26],[31,27,11,27,"useRef"],[31,33,11,33],[31,34,11,34,"options"],[31,41,11,41],[31,42,11,42],[32,4,12,2],[32,8,12,8,"optionsGettersFromChildRef"],[32,34,12,34],[32,37,12,37,"React"],[32,42,12,42],[32,43,12,43,"useRef"],[32,49,12,49],[32,50,12,50],[32,51,12,51],[32,52,12,52],[32,53,12,53],[33,4,13,2],[33,8,13,2,"_React$useContext"],[33,25,13,2],[33,28,15,6,"React"],[33,33,15,11],[33,34,15,12,"useContext"],[33,44,15,22],[33,45,15,23,"NavigationBuilderContext"],[33,72,15,47],[33,73,15,47,"NavigationBuilderContext"],[33,97,15,47],[33,98,15,48],[34,6,14,4,"onOptionsChange"],[34,21,14,19],[34,24,14,19,"_React$useContext"],[34,41,14,19],[34,42,14,4,"onOptionsChange"],[34,57,14,19],[35,4,16,2],[35,8,16,2,"_React$useContext2"],[35,26,16,2],[35,29,18,6,"React"],[35,34,18,11],[35,35,18,12,"useContext"],[35,45,18,22],[35,46,18,23,"NavigationStateContext"],[35,71,18,45],[35,72,18,45,"NavigationStateContext"],[35,94,18,45],[35,95,18,46],[36,6,17,22,"parentAddOptionsGetter"],[36,28,17,44],[36,31,17,44,"_React$useContext2"],[36,49,17,44],[36,50,17,4,"addOptionsGetter"],[36,66,17,20],[37,4,19,2],[37,8,19,8,"optionsChangeListener"],[37,29,19,29],[37,32,19,32,"React"],[37,37,19,37],[37,38,19,38,"useCallback"],[37,49,19,49],[37,50,19,50],[37,56,19,56],[38,6,20,4],[38,10,20,10,"isFocused"],[38,19,20,19],[38,22,20,22,"navigation"],[38,32,20,32],[38,34,20,34,"isFocused"],[38,43,20,43],[38,44,20,44],[38,45,20,45],[38,49,20,49],[38,53,20,53],[39,6,21,4],[39,10,21,10,"hasChildren"],[39,21,21,21],[39,24,21,24,"Object"],[39,30,21,30],[39,31,21,31,"keys"],[39,35,21,35],[39,36,21,36,"optionsGettersFromChildRef"],[39,62,21,62],[39,63,21,63,"current"],[39,70,21,70],[39,71,21,71],[39,72,21,72,"length"],[39,78,21,78],[40,6,22,4],[40,10,22,8,"isFocused"],[40,19,22,17],[40,23,22,21],[40,24,22,22,"hasChildren"],[40,35,22,33],[40,37,22,35],[41,8,23,6,"onOptionsChange"],[41,23,23,21],[41,24,23,22,"optionsRef"],[41,34,23,32],[41,35,23,33,"current"],[41,42,23,40],[41,46,23,44],[41,47,23,45],[41,48,23,46],[41,49,23,47],[42,6,24,4],[43,4,25,2],[43,5,25,3],[43,7,25,5],[43,8,25,6,"navigation"],[43,18,25,16],[43,20,25,18,"onOptionsChange"],[43,35,25,33],[43,36,25,34],[43,37,25,35],[44,4,26,2,"React"],[44,9,26,7],[44,10,26,8,"useEffect"],[44,19,26,17],[44,20,26,18],[44,26,26,24],[45,6,27,4,"optionsRef"],[45,16,27,14],[45,17,27,15,"current"],[45,24,27,22],[45,27,27,25,"options"],[45,34,27,32],[46,6,28,4,"optionsChangeListener"],[46,27,28,25],[46,28,28,26],[46,29,28,27],[47,6,29,4],[47,13,29,11,"navigation"],[47,23,29,21],[47,25,29,23,"addListener"],[47,36,29,34],[47,37,29,35],[47,44,29,42],[47,46,29,44,"optionsChangeListener"],[47,67,29,65],[47,68,29,66],[48,4,30,2],[48,5,30,3],[48,7,30,5],[48,8,30,6,"navigation"],[48,18,30,16],[48,20,30,18,"options"],[48,27,30,25],[48,29,30,27,"optionsChangeListener"],[48,50,30,48],[48,51,30,49],[48,52,30,50],[49,4,31,2],[49,8,31,8,"getOptionsFromListener"],[49,30,31,30],[49,33,31,33,"React"],[49,38,31,38],[49,39,31,39,"useCallback"],[49,50,31,50],[49,51,31,51],[49,57,31,57],[50,6,32,4],[50,11,32,9],[50,15,32,15,"key"],[50,19,32,18],[50,23,32,22,"optionsGettersFromChildRef"],[50,49,32,48],[50,50,32,49,"current"],[50,57,32,56],[50,59,32,58],[51,8,33,6],[51,12,33,10,"key"],[51,16,33,13],[51,20,33,17,"optionsGettersFromChildRef"],[51,46,33,43],[51,47,33,44,"current"],[51,54,33,51],[51,56,33,53],[52,10,34,8],[52,14,34,14,"result"],[52,20,34,20],[52,23,34,23,"optionsGettersFromChildRef"],[52,49,34,49],[52,50,34,50,"current"],[52,57,34,57],[52,58,34,58,"key"],[52,62,34,61],[52,63,34,62],[52,66,34,65],[52,67,34,66],[53,10,37,8],[53,14,37,12,"result"],[53,20,37,18],[53,25,37,23],[53,29,37,27],[53,31,37,29],[54,12,38,10],[54,19,38,17,"result"],[54,25,38,23],[55,10,39,8],[56,8,40,6],[57,6,41,4],[58,6,42,4],[58,13,42,11],[58,17,42,15],[59,4,43,2],[59,5,43,3],[59,7,43,5],[59,9,43,7],[59,10,43,8],[60,4,44,2],[60,8,44,8,"getCurrentOptions"],[60,25,44,25],[60,28,44,28,"React"],[60,33,44,33],[60,34,44,34,"useCallback"],[60,45,44,45],[60,46,44,46],[60,52,44,52],[61,6,45,4],[61,10,45,10,"isFocused"],[61,19,45,19],[61,22,45,22,"navigation"],[61,32,45,32],[61,34,45,34,"isFocused"],[61,43,45,43],[61,44,45,44],[61,45,45,45],[61,49,45,49],[61,53,45,53],[62,6,46,4],[62,10,46,8],[62,11,46,9,"isFocused"],[62,20,46,18],[62,22,46,20],[63,8,47,6],[63,15,47,13],[63,19,47,17],[64,6,48,4],[65,6,49,4],[65,10,49,10,"optionsFromListener"],[65,29,49,29],[65,32,49,32,"getOptionsFromListener"],[65,54,49,54],[65,55,49,55],[65,56,49,56],[66,6,50,4],[66,10,50,8,"optionsFromListener"],[66,29,50,27],[66,34,50,32],[66,38,50,36],[66,40,50,38],[67,8,51,6],[67,15,51,13,"optionsFromListener"],[67,34,51,32],[68,6,52,4],[69,6,53,4],[69,13,53,11,"optionsRef"],[69,23,53,21],[69,24,53,22,"current"],[69,31,53,29],[70,4,54,2],[70,5,54,3],[70,7,54,5],[70,8,54,6,"navigation"],[70,18,54,16],[70,20,54,18,"getOptionsFromListener"],[70,42,54,40],[70,43,54,41],[70,44,54,42],[71,4,55,2,"React"],[71,9,55,7],[71,10,55,8,"useEffect"],[71,19,55,17],[71,20,55,18],[71,26,55,24],[72,6,56,4],[72,13,56,11,"parentAddOptionsGetter"],[72,35,56,33],[72,38,56,36,"key"],[72,41,56,39],[72,43,56,41,"getCurrentOptions"],[72,60,56,58],[72,61,56,59],[73,4,57,2],[73,5,57,3],[73,7,57,5],[73,8,57,6,"getCurrentOptions"],[73,25,57,23],[73,27,57,25,"parentAddOptionsGetter"],[73,49,57,47],[73,51,57,49,"key"],[73,54,57,52],[73,55,57,53],[73,56,57,54],[74,4,58,2],[74,8,58,8,"addOptionsGetter"],[74,24,58,24],[74,27,58,27,"React"],[74,32,58,32],[74,33,58,33,"useCallback"],[74,44,58,44],[74,45,58,45],[74,46,58,46,"key"],[74,49,58,49],[74,51,58,51,"getter"],[74,57,58,57],[74,62,58,62],[75,6,59,4,"optionsGettersFromChildRef"],[75,32,59,30],[75,33,59,31,"current"],[75,40,59,38],[75,41,59,39,"key"],[75,44,59,42],[75,45,59,43],[75,48,59,46,"getter"],[75,54,59,52],[76,6,60,4,"optionsChangeListener"],[76,27,60,25],[76,28,60,26],[76,29,60,27],[77,6,61,4],[77,13,61,11],[77,19,61,17],[78,8,63,6],[78,15,63,13,"optionsGettersFromChildRef"],[78,41,63,39],[78,42,63,40,"current"],[78,49,63,47],[78,50,63,48,"key"],[78,53,63,51],[78,54,63,52],[79,8,64,6,"optionsChangeListener"],[79,29,64,27],[79,30,64,28],[79,31,64,29],[80,6,65,4],[80,7,65,5],[81,4,66,2],[81,5,66,3],[81,7,66,5],[81,8,66,6,"optionsChangeListener"],[81,29,66,27],[81,30,66,28],[81,31,66,29],[82,4,67,2],[82,11,67,9],[83,6,68,4,"addOptionsGetter"],[83,22,68,20],[84,6,69,4,"getCurrentOptions"],[85,4,70,2],[85,5,70,3],[86,2,71,0],[87,0,71,1],[87,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"},"hasCjsExports":false},"type":"js/module"}]}