{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16},"end":{"line":4,"column":32}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./LinkPreviewContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":29},"end":{"line":5,"column":60}}],"key":"aLYFQm4EDGJfSD6i9vRNTM/WlNM=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16},"end":{"line":6,"column":34}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}},{"name":"../../global-state/router-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23},"end":{"line":7,"column":65}}],"key":"34G8cf9eMVuL1UIt4w1T43KGPlk=","exportNames":["*"],"imports":1}},{"name":"../../hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16},"end":{"line":8,"column":38}}],"key":"4axDW+gHYZE8GuC1vLdCjsfAmVo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useNextScreenId = useNextScreenId;\n  var react_1 = require(_dependencyMap[1], \"react\");\n  var LinkPreviewContext_1 = require(_dependencyMap[2], \"./LinkPreviewContext\");\n  var utils_1 = require(_dependencyMap[3], \"./utils\");\n  var router_store_1 = require(_dependencyMap[4], \"../../global-state/router-store\");\n  var hooks_1 = require(_dependencyMap[5], \"../../hooks\");\n  function useNextScreenId() {\n    var router = (0, hooks_1.useRouter)();\n    var _ref = (0, LinkPreviewContext_1.useLinkPreviewContext)(),\n      setOpenPreviewKey = _ref.setOpenPreviewKey;\n    var _ref2 = (0, react_1.useState)(),\n      _ref3 = _slicedToArray(_ref2, 2),\n      internalNextScreenId = _ref3[0],\n      internalSetNextScreenId = _ref3[1];\n    var currentHref = (0, react_1.useRef)(undefined);\n    var _ref4 = (0, react_1.useState)([]),\n      _ref5 = _slicedToArray(_ref4, 2),\n      tabPath = _ref5[0],\n      setTabPath = _ref5[1];\n    (0, react_1.useEffect)(() => {\n      return router_store_1.store.navigationRef.addListener('state', _ref6 => {\n        var state = _ref6.data.state;\n        if (currentHref.current && state) {\n          var preloadedRoute = (0, utils_1.getPreloadedRouteFromRootStateByHref)(currentHref.current, state);\n          var routeKey = preloadedRoute?.key;\n          var tabPathFromRootState = (0, utils_1.getTabPathFromRootStateByHref)(currentHref.current, state);\n          if (routeKey || tabPathFromRootState.length) {\n            setTimeout(() => {\n              internalSetNextScreenId(routeKey);\n              setOpenPreviewKey(routeKey);\n              setTabPath(tabPathFromRootState);\n            });\n          }\n          currentHref.current = undefined;\n        }\n      });\n    }, []);\n    var prefetch = (0, react_1.useCallback)(href => {\n      internalSetNextScreenId(undefined);\n      router.prefetch(href);\n      currentHref.current = href;\n    }, [router.prefetch]);\n    return [{\n      nextScreenId: internalNextScreenId,\n      tabPath\n    }, prefetch];\n  }\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"useNextScreenId"],[8,25,3,23],[8,28,3,26,"useNextScreenId"],[8,43,3,41],[9,2,4,0],[9,6,4,6,"react_1"],[9,13,4,13],[9,16,4,16,"require"],[9,23,4,23],[9,24,4,23,"_dependencyMap"],[9,38,4,23],[9,50,4,31],[9,51,4,32],[10,2,5,0],[10,6,5,6,"LinkPreviewContext_1"],[10,26,5,26],[10,29,5,29,"require"],[10,36,5,36],[10,37,5,36,"_dependencyMap"],[10,51,5,36],[10,78,5,59],[10,79,5,60],[11,2,6,0],[11,6,6,6,"utils_1"],[11,13,6,13],[11,16,6,16,"require"],[11,23,6,23],[11,24,6,23,"_dependencyMap"],[11,38,6,23],[11,52,6,33],[11,53,6,34],[12,2,7,0],[12,6,7,6,"router_store_1"],[12,20,7,20],[12,23,7,23,"require"],[12,30,7,30],[12,31,7,30,"_dependencyMap"],[12,45,7,30],[12,83,7,64],[12,84,7,65],[13,2,8,0],[13,6,8,6,"hooks_1"],[13,13,8,13],[13,16,8,16,"require"],[13,23,8,23],[13,24,8,23,"_dependencyMap"],[13,38,8,23],[13,56,8,37],[13,57,8,38],[14,2,9,0],[14,11,9,9,"useNextScreenId"],[14,26,9,24,"useNextScreenId"],[14,27,9,24],[14,29,9,27],[15,4,10,4],[15,8,10,10,"router"],[15,14,10,16],[15,17,10,19],[15,18,10,20],[15,19,10,21],[15,21,10,23,"hooks_1"],[15,28,10,30],[15,29,10,31,"useRouter"],[15,38,10,40],[15,40,10,42],[15,41,10,43],[16,4,11,4],[16,8,11,4,"_ref"],[16,12,11,4],[16,15,11,34],[16,16,11,35],[16,17,11,36],[16,19,11,38,"LinkPreviewContext_1"],[16,39,11,58],[16,40,11,59,"useLinkPreviewContext"],[16,61,11,80],[16,63,11,82],[16,64,11,83],[17,6,11,12,"setOpenPreviewKey"],[17,23,11,29],[17,26,11,29,"_ref"],[17,30,11,29],[17,31,11,12,"setOpenPreviewKey"],[17,48,11,29],[18,4,12,4],[18,8,12,4,"_ref2"],[18,13,12,4],[18,16,12,60],[18,17,12,61],[18,18,12,62],[18,20,12,64,"react_1"],[18,27,12,71],[18,28,12,72,"useState"],[18,36,12,80],[18,38,12,82],[18,39,12,83],[19,6,12,83,"_ref3"],[19,11,12,83],[19,14,12,83,"_slicedToArray"],[19,28,12,83],[19,29,12,83,"_ref2"],[19,34,12,83],[20,6,12,11,"internalNextScreenId"],[20,26,12,31],[20,29,12,31,"_ref3"],[20,34,12,31],[21,6,12,33,"internalSetNextScreenId"],[21,29,12,56],[21,32,12,56,"_ref3"],[21,37,12,56],[22,4,13,4],[22,8,13,10,"currentHref"],[22,19,13,21],[22,22,13,24],[22,23,13,25],[22,24,13,26],[22,26,13,28,"react_1"],[22,33,13,35],[22,34,13,36,"useRef"],[22,40,13,42],[22,42,13,44,"undefined"],[22,51,13,53],[22,52,13,54],[23,4,14,4],[23,8,14,4,"_ref4"],[23,13,14,4],[23,16,14,34],[23,17,14,35],[23,18,14,36],[23,20,14,38,"react_1"],[23,27,14,45],[23,28,14,46,"useState"],[23,36,14,54],[23,38,14,56],[23,40,14,58],[23,41,14,59],[24,6,14,59,"_ref5"],[24,11,14,59],[24,14,14,59,"_slicedToArray"],[24,28,14,59],[24,29,14,59,"_ref4"],[24,34,14,59],[25,6,14,11,"tabPath"],[25,13,14,18],[25,16,14,18,"_ref5"],[25,21,14,18],[26,6,14,20,"setTabPath"],[26,16,14,30],[26,19,14,30,"_ref5"],[26,24,14,30],[27,4,15,4],[27,5,15,5],[27,6,15,6],[27,8,15,8,"react_1"],[27,15,15,15],[27,16,15,16,"useEffect"],[27,25,15,25],[27,27,15,27],[27,33,15,33],[28,6,17,8],[28,13,17,15,"router_store_1"],[28,27,17,29],[28,28,17,30,"store"],[28,33,17,35],[28,34,17,36,"navigationRef"],[28,47,17,49],[28,48,17,50,"addListener"],[28,59,17,61],[28,60,17,62],[28,67,17,69],[28,69,17,71,"_ref6"],[28,74,17,71],[28,78,17,96],[29,8,17,96],[29,12,17,82,"state"],[29,17,17,87],[29,20,17,87,"_ref6"],[29,25,17,87],[29,26,17,74,"data"],[29,30,17,78],[29,31,17,82,"state"],[29,36,17,87],[30,8,19,12],[30,12,19,16,"currentHref"],[30,23,19,27],[30,24,19,28,"current"],[30,31,19,35],[30,35,19,39,"state"],[30,40,19,44],[30,42,19,46],[31,10,20,16],[31,14,20,22,"preloadedRoute"],[31,28,20,36],[31,31,20,39],[31,32,20,40],[31,33,20,41],[31,35,20,43,"utils_1"],[31,42,20,50],[31,43,20,51,"getPreloadedRouteFromRootStateByHref"],[31,79,20,87],[31,81,20,89,"currentHref"],[31,92,20,100],[31,93,20,101,"current"],[31,100,20,108],[31,102,20,110,"state"],[31,107,20,115],[31,108,20,116],[32,10,21,16],[32,14,21,22,"routeKey"],[32,22,21,30],[32,25,21,33,"preloadedRoute"],[32,39,21,47],[32,41,21,49,"key"],[32,44,21,52],[33,10,22,16],[33,14,22,22,"tabPathFromRootState"],[33,34,22,42],[33,37,22,45],[33,38,22,46],[33,39,22,47],[33,41,22,49,"utils_1"],[33,48,22,56],[33,49,22,57,"getTabPathFromRootStateByHref"],[33,78,22,86],[33,80,22,88,"currentHref"],[33,91,22,99],[33,92,22,100,"current"],[33,99,22,107],[33,101,22,109,"state"],[33,106,22,114],[33,107,22,115],[34,10,25,16],[34,14,25,20,"routeKey"],[34,22,25,28],[34,26,25,32,"tabPathFromRootState"],[34,46,25,52],[34,47,25,53,"length"],[34,53,25,59],[34,55,25,61],[35,12,26,20,"setTimeout"],[35,22,26,30],[35,23,26,31],[35,29,26,37],[36,14,27,24,"internalSetNextScreenId"],[36,37,27,47],[36,38,27,48,"routeKey"],[36,46,27,56],[36,47,27,57],[37,14,28,24,"setOpenPreviewKey"],[37,31,28,41],[37,32,28,42,"routeKey"],[37,40,28,50],[37,41,28,51],[38,14,29,24,"setTabPath"],[38,24,29,34],[38,25,29,35,"tabPathFromRootState"],[38,45,29,55],[38,46,29,56],[39,12,30,20],[39,13,30,21],[39,14,30,22],[40,10,31,16],[41,10,34,16,"currentHref"],[41,21,34,27],[41,22,34,28,"current"],[41,29,34,35],[41,32,34,38,"undefined"],[41,41,34,47],[42,8,35,12],[43,6,36,8],[43,7,36,9],[43,8,36,10],[44,4,37,4],[44,5,37,5],[44,7,37,7],[44,9,37,9],[44,10,37,10],[45,4,38,4],[45,8,38,10,"prefetch"],[45,16,38,18],[45,19,38,21],[45,20,38,22],[45,21,38,23],[45,23,38,25,"react_1"],[45,30,38,32],[45,31,38,33,"useCallback"],[45,42,38,44],[45,44,38,47,"href"],[45,48,38,51],[45,52,38,56],[46,6,40,8,"internalSetNextScreenId"],[46,29,40,31],[46,30,40,32,"undefined"],[46,39,40,41],[46,40,40,42],[47,6,41,8,"router"],[47,12,41,14],[47,13,41,15,"prefetch"],[47,21,41,23],[47,22,41,24,"href"],[47,26,41,28],[47,27,41,29],[48,6,42,8,"currentHref"],[48,17,42,19],[48,18,42,20,"current"],[48,25,42,27],[48,28,42,30,"href"],[48,32,42,34],[49,4,43,4],[49,5,43,5],[49,7,43,7],[49,8,43,8,"router"],[49,14,43,14],[49,15,43,15,"prefetch"],[49,23,43,23],[49,24,43,24],[49,25,43,25],[50,4,44,4],[50,11,44,11],[50,12,44,12],[51,6,44,14,"nextScreenId"],[51,18,44,26],[51,20,44,28,"internalNextScreenId"],[51,40,44,48],[52,6,44,50,"tabPath"],[53,4,44,58],[53,5,44,59],[53,7,44,61,"prefetch"],[53,15,44,69],[53,16,44,70],[54,2,45,0],[55,0,45,1],[55,3]],"functionMap":{"names":["<global>","useNextScreenId","<anonymous>","router_store_1.store.navigationRef.addListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;ACQ;2BCM;uECE;+BCS;qBDI;SDM;KDC;8CCC;KDK;CDE"},"hasCjsExports":true},"type":"js/module"}]}