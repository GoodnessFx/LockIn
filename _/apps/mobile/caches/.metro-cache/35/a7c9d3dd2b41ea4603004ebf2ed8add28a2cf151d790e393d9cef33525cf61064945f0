{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./DeprecatedNavigationInChildContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0},"end":{"line":4,"column":93}}],"key":"q52xm1L6GcwAHIDdgCYRmHsHIPQ=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0},"end":{"line":5,"column":73}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./useOnPreventRemove.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0},"end":{"line":6,"column":82}}],"key":"PbhCaGdR39Jz0OkkS237FN1qkxU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useOnAction = useOnAction;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _DeprecatedNavigationInChildContextJs = require(_dependencyMap[1], \"./DeprecatedNavigationInChildContext.js\");\n  var _NavigationBuilderContextJs = require(_dependencyMap[2], \"./NavigationBuilderContext.js\");\n  var _useOnPreventRemoveJs = require(_dependencyMap[3], \"./useOnPreventRemove.js\");\n  function useOnAction(_ref) {\n    var router = _ref.router,\n      getState = _ref.getState,\n      setState = _ref.setState,\n      key = _ref.key,\n      actionListeners = _ref.actionListeners,\n      beforeRemoveListeners = _ref.beforeRemoveListeners,\n      routerConfigOptions = _ref.routerConfigOptions,\n      emitter = _ref.emitter;\n    var _React$useContext = React.useContext(_NavigationBuilderContextJs.NavigationBuilderContext),\n      onActionParent = _React$useContext.onAction,\n      onRouteFocusParent = _React$useContext.onRouteFocus,\n      addListenerParent = _React$useContext.addListener,\n      onDispatchAction = _React$useContext.onDispatchAction;\n    var navigationInChildEnabled = React.useContext(_DeprecatedNavigationInChildContextJs.DeprecatedNavigationInChildContext);\n    var routerConfigOptionsRef = React.useRef(routerConfigOptions);\n    React.useEffect(() => {\n      routerConfigOptionsRef.current = routerConfigOptions;\n    });\n    var onAction = React.useCallback(function (action) {\n      var visitedNavigators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Set();\n      var state = getState();\n      if (visitedNavigators.has(state.key)) {\n        return false;\n      }\n      visitedNavigators.add(state.key);\n      if (typeof action.target !== 'string' || action.target === state.key) {\n        var result = router.getStateForAction(state, action, routerConfigOptionsRef.current);\n        result = result === null && action.target === state.key ? state : result;\n        if (result !== null) {\n          onDispatchAction(action, state === result);\n          if (state !== result) {\n            var isPrevented = (0, _useOnPreventRemoveJs.shouldPreventRemove)(emitter, beforeRemoveListeners, state.routes, result.routes, action);\n            if (isPrevented) {\n              return true;\n            }\n            setState(result);\n          }\n          if (onRouteFocusParent !== undefined) {\n            var shouldFocus = router.shouldActionChangeFocus(action);\n            if (shouldFocus && key !== undefined) {\n              onRouteFocusParent(key);\n            }\n          }\n          return true;\n        }\n      }\n      if (onActionParent !== undefined) {\n        if (onActionParent(action, visitedNavigators)) {\n          return true;\n        }\n      }\n      if (typeof action.target === 'string' || action.type === 'NAVIGATE_DEPRECATED' || navigationInChildEnabled) {\n        for (var i = actionListeners.length - 1; i >= 0; i--) {\n          var listener = actionListeners[i];\n          if (listener(action, visitedNavigators)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }, [actionListeners, beforeRemoveListeners, emitter, getState, navigationInChildEnabled, key, onActionParent, onDispatchAction, onRouteFocusParent, router, setState]);\n    (0, _useOnPreventRemoveJs.useOnPreventRemove)({\n      getState,\n      emitter,\n      beforeRemoveListeners\n    });\n    React.useEffect(() => addListenerParent?.('action', onAction), [addListenerParent, onAction]);\n    return onAction;\n  }\n});","lineCount":98,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,16,0,"exports"],[22,9,16,0],[22,10,16,0,"useOnAction"],[22,21,16,0],[22,24,16,0,"useOnAction"],[22,35,16,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[25,6,4,0,"_DeprecatedNavigationInChildContextJs"],[25,43,4,0],[25,46,4,0,"require"],[25,53,4,0],[25,54,4,0,"_dependencyMap"],[25,68,4,0],[26,2,5,0],[26,6,5,0,"_NavigationBuilderContextJs"],[26,33,5,0],[26,36,5,0,"require"],[26,43,5,0],[26,44,5,0,"_dependencyMap"],[26,58,5,0],[27,2,6,0],[27,6,6,0,"_useOnPreventRemoveJs"],[27,27,6,0],[27,30,6,0,"require"],[27,37,6,0],[27,38,6,0,"_dependencyMap"],[27,52,6,0],[28,2,16,7],[28,11,16,16,"useOnAction"],[28,22,16,27,"useOnAction"],[28,23,16,27,"_ref"],[28,27,16,27],[28,29,25,3],[29,4,25,3],[29,8,17,2,"router"],[29,14,17,8],[29,17,17,8,"_ref"],[29,21,17,8],[29,22,17,2,"router"],[29,28,17,8],[30,6,18,2,"getState"],[30,14,18,10],[30,17,18,10,"_ref"],[30,21,18,10],[30,22,18,2,"getState"],[30,30,18,10],[31,6,19,2,"setState"],[31,14,19,10],[31,17,19,10,"_ref"],[31,21,19,10],[31,22,19,2,"setState"],[31,30,19,10],[32,6,20,2,"key"],[32,9,20,5],[32,12,20,5,"_ref"],[32,16,20,5],[32,17,20,2,"key"],[32,20,20,5],[33,6,21,2,"actionListeners"],[33,21,21,17],[33,24,21,17,"_ref"],[33,28,21,17],[33,29,21,2,"actionListeners"],[33,44,21,17],[34,6,22,2,"beforeRemoveListeners"],[34,27,22,23],[34,30,22,23,"_ref"],[34,34,22,23],[34,35,22,2,"beforeRemoveListeners"],[34,56,22,23],[35,6,23,2,"routerConfigOptions"],[35,25,23,21],[35,28,23,21,"_ref"],[35,32,23,21],[35,33,23,2,"routerConfigOptions"],[35,52,23,21],[36,6,24,2,"emitter"],[36,13,24,9],[36,16,24,9,"_ref"],[36,20,24,9],[36,21,24,2,"emitter"],[36,28,24,9],[37,4,26,2],[37,8,26,2,"_React$useContext"],[37,25,26,2],[37,28,31,6,"React"],[37,33,31,11],[37,34,31,12,"useContext"],[37,44,31,22],[37,45,31,23,"NavigationBuilderContext"],[37,72,31,47],[37,73,31,47,"NavigationBuilderContext"],[37,97,31,47],[37,98,31,48],[38,6,27,14,"onActionParent"],[38,20,27,28],[38,23,27,28,"_React$useContext"],[38,40,27,28],[38,41,27,4,"onAction"],[38,49,27,12],[39,6,28,18,"onRouteFocusParent"],[39,24,28,36],[39,27,28,36,"_React$useContext"],[39,44,28,36],[39,45,28,4,"onRouteFocus"],[39,57,28,16],[40,6,29,17,"addListenerParent"],[40,23,29,34],[40,26,29,34,"_React$useContext"],[40,43,29,34],[40,44,29,4,"addListener"],[40,55,29,15],[41,6,30,4,"onDispatchAction"],[41,22,30,20],[41,25,30,20,"_React$useContext"],[41,42,30,20],[41,43,30,4,"onDispatchAction"],[41,59,30,20],[42,4,32,2],[42,8,32,8,"navigationInChildEnabled"],[42,32,32,32],[42,35,32,35,"React"],[42,40,32,40],[42,41,32,41,"useContext"],[42,51,32,51],[42,52,32,52,"DeprecatedNavigationInChildContext"],[42,89,32,86],[42,90,32,86,"DeprecatedNavigationInChildContext"],[42,124,32,86],[42,125,32,87],[43,4,33,2],[43,8,33,8,"routerConfigOptionsRef"],[43,30,33,30],[43,33,33,33,"React"],[43,38,33,38],[43,39,33,39,"useRef"],[43,45,33,45],[43,46,33,46,"routerConfigOptions"],[43,65,33,65],[43,66,33,66],[44,4,34,2,"React"],[44,9,34,7],[44,10,34,8,"useEffect"],[44,19,34,17],[44,20,34,18],[44,26,34,24],[45,6,35,4,"routerConfigOptionsRef"],[45,28,35,26],[45,29,35,27,"current"],[45,36,35,34],[45,39,35,37,"routerConfigOptions"],[45,58,35,56],[46,4,36,2],[46,5,36,3],[46,6,36,4],[47,4,37,2],[47,8,37,8,"onAction"],[47,16,37,16],[47,19,37,19,"React"],[47,24,37,24],[47,25,37,25,"useCallback"],[47,36,37,36],[47,37,37,37],[47,47,37,38,"action"],[47,53,37,44],[47,55,37,80],[48,6,37,80],[48,10,37,46,"visitedNavigators"],[48,27,37,63],[48,30,37,63,"arguments"],[48,39,37,63],[48,40,37,63,"length"],[48,46,37,63],[48,54,37,63,"arguments"],[48,63,37,63],[48,71,37,63,"undefined"],[48,80,37,63],[48,83,37,63,"arguments"],[48,92,37,63],[48,98,37,66],[48,102,37,70,"Set"],[48,105,37,73],[48,106,37,74],[48,107,37,75],[49,6,38,4],[49,10,38,10,"state"],[49,15,38,15],[49,18,38,18,"getState"],[49,26,38,26],[49,27,38,27],[49,28,38,28],[50,6,42,4],[50,10,42,8,"visitedNavigators"],[50,27,42,25],[50,28,42,26,"has"],[50,31,42,29],[50,32,42,30,"state"],[50,37,42,35],[50,38,42,36,"key"],[50,41,42,39],[50,42,42,40],[50,44,42,42],[51,8,43,6],[51,15,43,13],[51,20,43,18],[52,6,44,4],[53,6,45,4,"visitedNavigators"],[53,23,45,21],[53,24,45,22,"add"],[53,27,45,25],[53,28,45,26,"state"],[53,33,45,31],[53,34,45,32,"key"],[53,37,45,35],[53,38,45,36],[54,6,46,4],[54,10,46,8],[54,17,46,15,"action"],[54,23,46,21],[54,24,46,22,"target"],[54,30,46,28],[54,35,46,33],[54,43,46,41],[54,47,46,45,"action"],[54,53,46,51],[54,54,46,52,"target"],[54,60,46,58],[54,65,46,63,"state"],[54,70,46,68],[54,71,46,69,"key"],[54,74,46,72],[54,76,46,74],[55,8,47,6],[55,12,47,10,"result"],[55,18,47,16],[55,21,47,19,"router"],[55,27,47,25],[55,28,47,26,"getStateForAction"],[55,45,47,43],[55,46,47,44,"state"],[55,51,47,49],[55,53,47,51,"action"],[55,59,47,57],[55,61,47,59,"routerConfigOptionsRef"],[55,83,47,81],[55,84,47,82,"current"],[55,91,47,89],[55,92,47,90],[56,8,51,6,"result"],[56,14,51,12],[56,17,51,15,"result"],[56,23,51,21],[56,28,51,26],[56,32,51,30],[56,36,51,34,"action"],[56,42,51,40],[56,43,51,41,"target"],[56,49,51,47],[56,54,51,52,"state"],[56,59,51,57],[56,60,51,58,"key"],[56,63,51,61],[56,66,51,64,"state"],[56,71,51,69],[56,74,51,72,"result"],[56,80,51,78],[57,8,52,6],[57,12,52,10,"result"],[57,18,52,16],[57,23,52,21],[57,27,52,25],[57,29,52,27],[58,10,53,8,"onDispatchAction"],[58,26,53,24],[58,27,53,25,"action"],[58,33,53,31],[58,35,53,33,"state"],[58,40,53,38],[58,45,53,43,"result"],[58,51,53,49],[58,52,53,50],[59,10,54,8],[59,14,54,12,"state"],[59,19,54,17],[59,24,54,22,"result"],[59,30,54,28],[59,32,54,30],[60,12,55,10],[60,16,55,16,"isPrevented"],[60,27,55,27],[60,30,55,30],[60,34,55,30,"shouldPreventRemove"],[60,55,55,49],[60,56,55,49,"shouldPreventRemove"],[60,75,55,49],[60,77,55,50,"emitter"],[60,84,55,57],[60,86,55,59,"beforeRemoveListeners"],[60,107,55,80],[60,109,55,82,"state"],[60,114,55,87],[60,115,55,88,"routes"],[60,121,55,94],[60,123,55,96,"result"],[60,129,55,102],[60,130,55,103,"routes"],[60,136,55,109],[60,138,55,111,"action"],[60,144,55,117],[60,145,55,118],[61,12,56,10],[61,16,56,14,"isPrevented"],[61,27,56,25],[61,29,56,27],[62,14,57,12],[62,21,57,19],[62,25,57,23],[63,12,58,10],[64,12,59,10,"setState"],[64,20,59,18],[64,21,59,19,"result"],[64,27,59,25],[64,28,59,26],[65,10,60,8],[66,10,61,8],[66,14,61,12,"onRouteFocusParent"],[66,32,61,30],[66,37,61,35,"undefined"],[66,46,61,44],[66,48,61,46],[67,12,64,10],[67,16,64,16,"shouldFocus"],[67,27,64,27],[67,30,64,30,"router"],[67,36,64,36],[67,37,64,37,"shouldActionChangeFocus"],[67,60,64,60],[67,61,64,61,"action"],[67,67,64,67],[67,68,64,68],[68,12,65,10],[68,16,65,14,"shouldFocus"],[68,27,65,25],[68,31,65,29,"key"],[68,34,65,32],[68,39,65,37,"undefined"],[68,48,65,46],[68,50,65,48],[69,14,66,12,"onRouteFocusParent"],[69,32,66,30],[69,33,66,31,"key"],[69,36,66,34],[69,37,66,35],[70,12,67,10],[71,10,68,8],[72,10,69,8],[72,17,69,15],[72,21,69,19],[73,8,70,6],[74,6,71,4],[75,6,72,4],[75,10,72,8,"onActionParent"],[75,24,72,22],[75,29,72,27,"undefined"],[75,38,72,36],[75,40,72,38],[76,8,74,6],[76,12,74,10,"onActionParent"],[76,26,74,24],[76,27,74,25,"action"],[76,33,74,31],[76,35,74,33,"visitedNavigators"],[76,52,74,50],[76,53,74,51],[76,55,74,53],[77,10,75,8],[77,17,75,15],[77,21,75,19],[78,8,76,6],[79,6,77,4],[80,6,78,4],[80,10,78,8],[80,17,78,15,"action"],[80,23,78,21],[80,24,78,22,"target"],[80,30,78,28],[80,35,78,33],[80,43,78,41],[80,47,80,4,"action"],[80,53,80,10],[80,54,80,11,"type"],[80,58,80,15],[80,63,80,20],[80,84,80,41],[80,88,80,45,"navigationInChildEnabled"],[80,112,80,69],[80,114,80,71],[81,8,83,6],[81,13,83,11],[81,17,83,15,"i"],[81,18,83,16],[81,21,83,19,"actionListeners"],[81,36,83,34],[81,37,83,35,"length"],[81,43,83,41],[81,46,83,44],[81,47,83,45],[81,49,83,47,"i"],[81,50,83,48],[81,54,83,52],[81,55,83,53],[81,57,83,55,"i"],[81,58,83,56],[81,60,83,58],[81,62,83,60],[82,10,84,8],[82,14,84,14,"listener"],[82,22,84,22],[82,25,84,25,"actionListeners"],[82,40,84,40],[82,41,84,41,"i"],[82,42,84,42],[82,43,84,43],[83,10,85,8],[83,14,85,12,"listener"],[83,22,85,20],[83,23,85,21,"action"],[83,29,85,27],[83,31,85,29,"visitedNavigators"],[83,48,85,46],[83,49,85,47],[83,51,85,49],[84,12,86,10],[84,19,86,17],[84,23,86,21],[85,10,87,8],[86,8,88,6],[87,6,89,4],[88,6,90,4],[88,13,90,11],[88,18,90,16],[89,4,91,2],[89,5,91,3],[89,7,91,5],[89,8,91,6,"actionListeners"],[89,23,91,21],[89,25,91,23,"beforeRemoveListeners"],[89,46,91,44],[89,48,91,46,"emitter"],[89,55,91,53],[89,57,91,55,"getState"],[89,65,91,63],[89,67,91,65,"navigationInChildEnabled"],[89,91,91,89],[89,93,91,91,"key"],[89,96,91,94],[89,98,91,96,"onActionParent"],[89,112,91,110],[89,114,91,112,"onDispatchAction"],[89,130,91,128],[89,132,91,130,"onRouteFocusParent"],[89,150,91,148],[89,152,91,150,"router"],[89,158,91,156],[89,160,91,158,"setState"],[89,168,91,166],[89,169,91,167],[89,170,91,168],[90,4,92,2],[90,8,92,2,"useOnPreventRemove"],[90,29,92,20],[90,30,92,20,"useOnPreventRemove"],[90,48,92,20],[90,50,92,21],[91,6,93,4,"getState"],[91,14,93,12],[92,6,94,4,"emitter"],[92,13,94,11],[93,6,95,4,"beforeRemoveListeners"],[94,4,96,2],[94,5,96,3],[94,6,96,4],[95,4,97,2,"React"],[95,9,97,7],[95,10,97,8,"useEffect"],[95,19,97,17],[95,20,97,18],[95,26,97,24,"addListenerParent"],[95,43,97,41],[95,46,97,44],[95,54,97,52],[95,56,97,54,"onAction"],[95,64,97,62],[95,65,97,63],[95,67,97,65],[95,68,97,66,"addListenerParent"],[95,85,97,83],[95,87,97,85,"onAction"],[95,95,97,93],[95,96,97,94],[95,97,97,95],[96,4,98,2],[96,11,98,9,"onAction"],[96,19,98,17],[97,2,99,0],[98,0,99,1],[98,3]],"functionMap":{"names":["<global>","useOnAction","React.useEffect$argument_0","onAction"],"mappings":"AAA;OCe;kBCkB;GDE;qCEC;GFsD;kBCM,6CD;CDE"},"hasCjsExports":false},"type":"js/module"}]}